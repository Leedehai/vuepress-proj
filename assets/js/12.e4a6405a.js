(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{155:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("App is the default build target. In this mode:")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note on IE Compatibility")]),t._v(" "),s("p",[t._v("In lib mode, the public path is "),s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/blob/dev/packages/@vue/cli-service/lib/commands/build/setPublicPath.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("dynamically determined"),s("OutboundLink")],1),t._v(" based on the URL from which the main js file is loaded (to enable dynamic assets loading). However, this feature requires "),s("code",[t._v("document.currentScript")]),t._v(" support, which is missing in IE. So it's recommended to include the "),s("a",{attrs:{href:"https://www.npmjs.com/package/current-script-polyfill",target:"_blank",rel:"noopener noreferrer"}},[t._v("current-script-polyfill"),s("OutboundLink")],1),t._v(" in the final web page before the library is imported, if IE support is a requirement.")])]),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("You can build a single entry as a library using")]),t._v(" "),t._m(6),t._m(7),t._m(8),t._v(" "),s("p",[t._v("A lib build outputs:")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._m(14),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note on Compatibility")]),t._v(" "),s("p",[t._v("Web Component mode does not support IE11 and below. "),s("a",{attrs:{href:"https://github.com/vuejs/vue-web-component-wrapper#compatibility",target:"_blank",rel:"noopener noreferrer"}},[t._v("More details"),s("OutboundLink")],1)])]),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("You can build a single entry as a web component using")]),t._v(" "),t._m(16),t._m(17),t._v(" "),s("p",[t._v("The build will produce a single JavaScript file (and its minified version) with everything inlined. The script, when included on a page, registers the "),s("code",[t._v("<my-element>")]),t._v(" custom element, which wraps the target Vue component using "),s("code",[t._v("@vue/web-component-wrapper")]),t._v(". The wrapper automatically proxies properties, attributes, events and slots. See the "),s("a",{attrs:{href:"https://github.com/vuejs/vue-web-component-wrapper",target:"_blank",rel:"noopener noreferrer"}},[t._v("docs for "),s("code",[t._v("@vue/web-component-wrapper")]),s("OutboundLink")],1),t._v(" for more details.")]),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("This mode allows consumers of your component to use the Vue component as a normal DOM element:")]),t._v(" "),t._m(19),t._m(20),t._v(" "),s("p",[t._v("When building a web component bundle, you can also target multiple components by using a glob as entry:")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._v(" "),s("p",[t._v("When targeting multiple web components, the bundle may become quite large, and the user may only use a few of the components your bundle registers. The async web component mode produces a code-split bundle with a small entry file that provides the shared runtime between all the components, and registers all the custom elements upfront. The actual implementation of a component is then fetched on-demand only when an instance of the corresponding custom element is used on the page:")]),t._v(" "),t._m(24),t._m(25),s("p",[t._v("Now on the page, the user only needs to include Vue and the entry file:")]),t._v(" "),t._m(26)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"build-targets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#build-targets","aria-hidden":"true"}},[this._v("#")]),this._v(" Build Targets")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When you run "),e("code",[this._v("vue-cli-service build")]),this._v(", you can specify different build targets via the "),e("code",[this._v("--target")]),this._v(" option. This allows you to use the same code base to produce different builds for different use cases.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#app","aria-hidden":"true"}},[this._v("#")]),this._v(" App")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("index.html")]),t._v(" with asset and resource hints injection")]),t._v(" "),s("li",[t._v("vendor libraries split into a separate chunk for better caching")]),t._v(" "),s("li",[t._v("static assets under 4kb are inlined into JavaScript")]),t._v(" "),s("li",[t._v("static assets in "),s("code",[t._v("public")]),t._v(" are copied into output directory")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"library"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#library","aria-hidden":"true"}},[this._v("#")]),this._v(" Library")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note on Vue Dependency")]),this._v(" "),e("p",[this._v("In lib mode, Vue is "),e("em",[this._v("externalized")]),this._v(". This means the bundle will not bundle Vue even if your code imports Vue. If the lib is used via a bundler, it will attempt to load Vue as a dependency through the bundler; otherwise, it falls back to a global "),e("code",[this._v("Vue")]),this._v(" variable.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("vue-cli-service build --target lib --name myLib [entry]\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("File                     Size                     Gzipped\n\ndist/myLib.umd.min.js    13.28 kb                 8.42 kb\ndist/myLib.umd.js        20.95 kb                 10.22 kb\ndist/myLib.common.js     20.57 kb                 10.09 kb\ndist/myLib.css           0.33 kb                  0.23 kb\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The entry can be either a "),e("code",[this._v(".js")]),this._v(" or a "),e("code",[this._v(".vue")]),this._v(" file. If no entry is specified, "),e("code",[this._v("src/App.vue")]),this._v(" will be used.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[s("code",[t._v("dist/myLib.common.js")]),t._v(": A CommonJS bundle for consuming via bundlers (unfortunately, webpack currently does not support ES modules output format for bundles yet)")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("dist/myLib.umd.js")]),t._v(": A UMD bundle for consuming directly in browsers or with AMD loaders")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("dist/myLib.umd.min.js")]),t._v(": Minified version of the UMD build.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("dist/myLib.css")]),t._v(": Extracted CSS file (can be forced into inlined by setting "),s("code",[t._v("css: { extract: false }")]),t._v(" in "),s("code",[t._v("vue.config.js")]),t._v(")")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"vue-vs-js-ts-entry-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-vs-js-ts-entry-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Vue vs. JS/TS Entry Files")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When using a "),e("code",[this._v(".vue")]),this._v(" file as entry, your library will directly expose the Vue component itself, because the component is always the default export.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("However, when you are using a "),s("code",[t._v(".js")]),t._v(" or "),s("code",[t._v(".ts")]),t._v(" file as your entry, it may contain named exports, so your library will be exposed as a Module. This means the default export of your library must be accessed as "),s("code",[t._v("window.yourLib.default")]),t._v(" in UMD builds, or as "),s("code",[t._v("const myLib = require('mylib').default")]),t._v(" in CommonJS builds. If you don't have any named exports and wish to directly expose the default export, you can use the following webpack configuration in "),s("code",[t._v("vue.config.js")]),t._v(":")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  configureWebpack"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    output"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      libraryExport"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'default'")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"web-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-component","aria-hidden":"true"}},[this._v("#")]),this._v(" Web Component")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note on Vue Dependency")]),this._v(" "),e("p",[this._v("In web component mode, Vue is "),e("em",[this._v("externalized.")]),this._v(" This means the bundle will not bundle Vue even if your code imports Vue. The bundle will assume "),e("code",[this._v("Vue")]),this._v(" is available on the host page as a global variable.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("vue-cli-service build --target wc --name my-element [entry]\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Note that the entry should be a "),e("code",[this._v("*.vue")]),this._v(" file. Vue CLI will automatically wrap and register the component as a Web Component for you, and there's no need to do this yourself in "),e("code",[this._v("main.js")]),this._v(". You can use "),e("code",[this._v("main.js")]),this._v(" as a demo app solely for development.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Note the bundle relies on "),e("code",[this._v("Vue")]),this._v(" being globally available on the page.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://unpkg.com/vue"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token script language-javascript"}}),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("path/to/my-element.js"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token script language-javascript"}}),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- use in plain HTML, or in any other framework --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("my-element")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("my-element")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"bundle-that-registers-multiple-web-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bundle-that-registers-multiple-web-components","aria-hidden":"true"}},[this._v("#")]),this._v(" Bundle that Registers Multiple Web Components")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("vue-cli-service build --target wc --name foo 'src/components/*.vue'\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("When building multiple web components, "),s("code",[t._v("--name")]),t._v(" will be used as the prefix and the custom element name will be inferred from the component filename. For example, with "),s("code",[t._v("--name foo")]),t._v(" and a component named "),s("code",[t._v("HelloWorld.vue")]),t._v(", the resulting custom element will be registered as "),s("code",[t._v("<foo-hello-world>")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"async-web-component"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#async-web-component","aria-hidden":"true"}},[this._v("#")]),this._v(" Async Web Component")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("vue-cli-service build --target wc-async --name foo 'src/components/*.vue'\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("File                Size                        Gzipped\n\ndist/foo.0.min.js    12.80 kb                    8.09 kb\ndist/foo.min.js      7.45 kb                     3.17 kb\ndist/foo.1.min.js    2.91 kb                     1.02 kb\ndist/foo.js          22.51 kb                    6.67 kb\ndist/foo.0.js        17.27 kb                    8.83 kb\ndist/foo.1.js        5.24 kb                     1.64 kb\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://unpkg.com/vue"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token script language-javascript"}}),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("path/to/foo.min.js"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token script language-javascript"}}),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- foo-one's implementation chunk is auto fetched when it's used --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("foo-one")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("foo-one")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="build-targets.md";e.default=n.exports}}]);