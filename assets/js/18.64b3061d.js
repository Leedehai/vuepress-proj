(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{162:function(e,t,s){"use strict";s.r(t);var i=s(0),a=Object(i.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),s("p",[e._v("You can specify env variables by placing the following files in your project root:")]),e._v(" "),e._m(1),s("p",[e._v("An env file simply contains key=value pairs of environment variables:")]),e._v(" "),e._m(2),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._m(16),e._v(" "),e._m(17),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),s("p",[e._v("All resolved env variables will be available inside "),s("code",[e._v("public/index.html")]),e._v(" as discussed in "),s("router-link",{attrs:{to:"./html-and-static-assets.html#interpolation"}},[e._v("HTML - Interpolation")]),e._v(".")],1),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),e._m(29)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"environment-variables-and-modes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#environment-variables-and-modes","aria-hidden":"true"}},[this._v("#")]),this._v(" Environment Variables and Modes")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v(".env                "),s("span",{attrs:{class:"token comment"}},[e._v("# loaded in all cases")]),e._v("\n.env.local          "),s("span",{attrs:{class:"token comment"}},[e._v("# loaded in all cases, ignored by git")]),e._v("\n.env."),s("span",{attrs:{class:"token punctuation"}},[e._v("[")]),e._v("mode"),s("span",{attrs:{class:"token punctuation"}},[e._v("]")]),e._v("         "),s("span",{attrs:{class:"token comment"}},[e._v("# only loaded in specified mode")]),e._v("\n.env."),s("span",{attrs:{class:"token punctuation"}},[e._v("[")]),e._v("mode"),s("span",{attrs:{class:"token punctuation"}},[e._v("]")]),e._v(".local   "),s("span",{attrs:{class:"token comment"}},[e._v("# only loaded in specified mode, ignored by git")]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("FOO=bar\nVUE_APP_SECRET=secret\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Loaded variables will become available to all "),t("code",[this._v("vue-cli-service")]),this._v(" commands, plugins and dependencies.")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("Env Loading Priorities")]),e._v(" "),s("p",[e._v("An env file for a specific mode (e.g. "),s("code",[e._v(".env.production")]),e._v(") will take higher priority than a generic one (e.g. "),s("code",[e._v(".env")]),e._v(").")]),e._v(" "),s("p",[e._v("In addition, environment variables that already exist when Vue CLI is bootstrapped have the highest priority and will not be overwritten by "),s("code",[e._v(".env")]),e._v(" files.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("NODE_ENV")]),e._v(" "),s("p",[e._v("If you have a default "),s("code",[e._v("NODE_ENV")]),e._v(" in your environment, you should either remove it or explicitly set "),s("code",[e._v("NODE_ENV")]),e._v(" when running "),s("code",[e._v("vue-cli-service")]),e._v(" commands.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"modes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modes","aria-hidden":"true"}},[this._v("#")]),this._v(" Modes")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Mode")]),this._v(" is an important concept in Vue CLI projects. By default, there are three modes in a Vue CLI project:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("code",[e._v("development")]),e._v(" is used by "),s("code",[e._v("vue-cli-service serve")])]),e._v(" "),s("li",[s("code",[e._v("production")]),e._v(" is used by "),s("code",[e._v("vue-cli-service build")]),e._v(" and "),s("code",[e._v("vue-cli-service test:e2e")])]),e._v(" "),s("li",[s("code",[e._v("test")]),e._v(" is used by "),s("code",[e._v("vue-cli-service test:unit")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("Note that a mode is different from "),s("code",[e._v("NODE_ENV")]),e._v(", as a mode can contain multiple environment variables. That said, each mode does set "),s("code",[e._v("NODE_ENV")]),e._v(" to the same value by default - for example, "),s("code",[e._v("NODE_ENV")]),e._v(" will be set to "),s("code",[e._v('"development"')]),e._v(" in development mode.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can set environment variables only available to a certain mode by postfixing the "),t("code",[this._v(".env")]),this._v(" file. For example, if you create a file named "),t("code",[this._v(".env.development")]),this._v(" in your project root, then the variables declared in that file will only be loaded in development mode.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can overwrite the default mode used for a command by passing the "),t("code",[this._v("--mode")]),this._v(" option flag. For example, if you want to use development variables in the build command, add this to your "),t("code",[this._v("package.json")]),this._v(" scripts:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('"dev-build": "vue-cli-service build --mode development",\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"example-staging-mode"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-staging-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" Example: Staging Mode")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Assuming we have an app with the following "),t("code",[this._v(".env")]),this._v(" file:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("VUE_APP_TITLE=My App\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("And the following "),t("code",[this._v(".env.staging")]),this._v(" file:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("NODE_ENV=production\nVUE_APP_TITLE=My App (staging)\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("p",[s("code",[e._v("vue-cli-service build")]),e._v(" builds a production app, loading "),s("code",[e._v(".env")]),e._v(", "),s("code",[e._v(".env.production")]),e._v(" and "),s("code",[e._v(".env.production.local")]),e._v(" if they are present;")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("vue-cli-service build --mode staging")]),e._v(" builds a production app in staging mode, using "),s("code",[e._v(".env")]),e._v(", "),s("code",[e._v(".env.staging")]),e._v(" and "),s("code",[e._v(".env.staging.local")]),e._v(" if they are present.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In both cases, the app is built as a production app because of the "),t("code",[this._v("NODE_ENV")]),this._v(", but in the staging version, "),t("code",[this._v("process.env.VUE_APP_TITLE")]),this._v(" is overwritten with a different value.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"using-env-variables-in-client-side-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-env-variables-in-client-side-code","aria-hidden":"true"}},[this._v("#")]),this._v(" Using Env Variables in Client-side Code")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Only variables that start with "),t("code",[this._v("VUE_APP_")]),this._v(" will be statically embedded into the client bundle with "),t("code",[this._v("webpack.DefinePlugin")]),this._v(". You can access them in your application code:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("console"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{attrs:{class:"token function"}},[e._v("log")]),s("span",{attrs:{class:"token punctuation"}},[e._v("(")]),e._v("process"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),e._v("env"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{attrs:{class:"token constant"}},[e._v("VUE_APP_SECRET")]),s("span",{attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("During build, "),t("code",[this._v("process.env.VUE_APP_SECRET")]),this._v(" will be replaced by the corresponding value. In the case of "),t("code",[this._v("VUE_APP_SECRET=secret")]),this._v(", it will be replaced by "),t("code",[this._v('"secret"')]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In addition to "),t("code",[this._v("VUE_APP_*")]),this._v(" variables, there are also two special variables that will always be available in your app code:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("code",[e._v("NODE_ENV")]),e._v(" - this will be one of "),s("code",[e._v('"development"')]),e._v(", "),s("code",[e._v('"production"')]),e._v(" or "),s("code",[e._v('"test"')]),e._v(" depending on the "),s("a",{attrs:{href:"#modes"}},[e._v("mode")]),e._v(" the app is running in.")]),e._v(" "),s("li",[s("code",[e._v("BASE_URL")]),e._v(" - this corresponds to the "),s("code",[e._v("baseUrl")]),e._v(" option in "),s("code",[e._v("vue.config.js")]),e._v(" and is the base path your app is deployed at.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("You can have computed env vars in your "),s("code",[e._v("vue.config.js")]),e._v(" file. They still need to be prefixed with "),s("code",[e._v("VUE_APP_")]),e._v(". This is useful for version info "),s("code",[e._v("process.env.VUE_APP_VERSION = require('./package.json').version")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"local-only-variables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#local-only-variables","aria-hidden":"true"}},[this._v("#")]),this._v(" Local Only Variables")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Sometimes you might have env variables that should not be committed into the codebase, especially if your project is hosted in a public repository. In that case you should use an "),t("code",[this._v(".env.local")]),this._v(" file instead. Local env files are ignored in "),t("code",[this._v(".gitignore")]),this._v(" by default.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v(".local")]),this._v(" can also be appended to mode-specific env files, for example "),t("code",[this._v(".env.development.local")]),this._v(" will be loaded during development, and is ignored by git.")])}],!1,null,null,null);a.options.__file="mode-and-env.md";t.default=a.exports}}]);