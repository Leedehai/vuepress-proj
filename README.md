# VueCLI (docs website)

Documentation website for VueCLI, hosted by [GitHub Pages](https://pages.github.com).

The site was generated by [Vuepress](https://vuepress.vuejs.org), a minimalistic static site generator optimized for technical documentations. Vuepress is powered by [Vue](https://github.com/vuejs/vue), a trending light-weighted JavaScript framework.

This site is a single-page web application ([SPA](en.wikipedia.org/wiki/Single-page_application)) but is search engine friendly. Furthermore, [service worker](https://developers.google.com/web/fundamentals/primers/service-workers/) is enabled if served over HTTPS on major browsers, so the website can be accessed offline.

### 1. Development prerequisites:

MacOS and Linux supported.
- [Node.js](https://nodejs.org/) >= 8.0.0, together with Node package manager [npm](https://www.npmjs.com)
    > If you don't have it, download [here](https://nodejs.org/en/); if you Node.js is outdated, upgrade it with [n](https://www.npmjs.com/package/n).
- Python2 or Python3
- Git

Also, you need a [GitHub](https://github.com) account if you wish to publish to [GitHub Pages](https://pages.github.com).

### 2. Workflow
**0.** Install node packages (only need to execute once if `package.json` changes)
```sh
npm install # excuete once
```

**Haking the files...**

**1.** Build site
```sh
# Vuepress will convert Markdown files in docs/ to HTML files.
# built products are in docs/.vuepress/dist
./build.sh
```
> Use `./build.sh --help` for more options.<br>Especially, `./build.sh --dev` launches a server on `localhost:8080` and will reflect your changes instantly.

**2.** Examine product site locally
```sh
# serve site on localhost:8001/URL_ROOT, where URL_ROOT is defined in examine.sh
# URL_ROOT should match with the 'base' property in site-config.js (see below)
./examine.sh
```
> Commands `./build.sh` and `./examine.sh` can be combined in `./build.sh -e`.

**3.** Publish the local site to Internet by pushing to GitHub Pages
```sh
# push to the 'gh-pages` branch of the upstream repo specified in publish.sh
# that branch is automatically published by GitHub Pages to the public
./publish.sh
# the command will prompt for confirmation before pushing
```

### 3. Files and directories
- `package.json`: Node module manifest
    > `node_modules/` and `package-lock.json` are generated by `npm install`. *Can be deleted*
- `build.sh`, `examine.sh`, `publish.sh`: workflow scripts for building, local examination, and publishing.
- `site-config.js`: symbolic link to `docs/.vuepress/config.js`, Vuepress site configurations (see below).
- `docs/`: all document and asset files go here.
    - `.vuepress/`: store Vuepress-related files (normally you don't need to touch files here)
        - `config.js`: site configurations, including for the navigation bar and the side bar.
        - `public/`: static resource files, e.g. images, that are not referenced in any of your Markdown files or theme components.
        - `components/`: [Vue](https://github.com/vuejs/vue) components, will be automatically registered as global components.
        - `*.styl`: styling override.
        - `dist`: where the generated website go. *Can be deleted*
            > Among others, the HTML files converted from Markdown files by Vuepress will be stored here, and the static resources will be copied here.
		- other directories and files under `.vuepress/`: Vuepress's [optional components](https://vuepress.vuejs.org/guide/directory-structure.html).
    - other directories and files in `doc/`: the Markdown files to be used to generated the website. If these files referenced static resources (e.g. images), they will be copied to appropriate places inside `.vuepress/dist/` by Vuepress automatically when generating the site.

### 4. How to use this site as a framework for other sites on GitHub Pages
1. **site-config.js**. Change the `base` property to `/URL_ROOT/` (note the two slashes), so that the root of the published site is at `username.github.io/URL_ROOT/`. If you wish to publish directly under `username.github.io/`, set `base` to `/`.
2. **examine.sh**. Change the `URL_ROOT` variable to match your `URL_ROOT` given above (no slashes). If you wish to publish directly under `username.github.io/`, set it to be an empty string.
3. **publish.sh**. Change the `URL_ROOT` variable to match your `URL_ROOT` given above (no slashes). If you wish to publish directly under `username.github.io/`, set it to be an empty string. Specify your GitHub account and your desired GitHub Pages destination in `UPSTREAM_HOST` and `WEBSITE_URL`.
4. **GitHub**. Create a public repository with your GitHub account if you haven't done already. The repository's name should match with your `URL_ROOT` given above. The site will be pushed to the `gh-pages` branch of your repository. Enable GitHub Pages in the repository's Settings.
5. Make modifications to files under `docs/`.
    > Vuepress's official docs: [Vuepress](https://vuepress.vuejs.org/guide/)<br>A non-official tutorial: [Vuepressbook](https://vuepressbook.com)

##### License
[MIT License](LICENSE.txt).

**!!! Exception !!!** for VueCLI files, follow the license of [VueCLI docs](https://cli.vuejs.org). These are the files and directories under `docs/` except `docs/.vuepress/`.

###### EOF
