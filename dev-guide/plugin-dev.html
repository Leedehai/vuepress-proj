<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Plugin Development Guide | Your title</title>
    <meta name="description" content="To test Vuepress by publishing VueCLI docs">
    <link rel="icon" href="/vuepress-proj/favicon.png">
    
    <link rel="preload" href="/vuepress-proj/assets/css/styles.efe46ffe.css" as="style"><link rel="preload" href="/vuepress-proj/assets/js/app.efe46ffe.js" as="script"><link rel="preload" href="/vuepress-proj/assets/js/6.b98e0cc0.js" as="script"><link rel="prefetch" href="/vuepress-proj/assets/css/1.styles.404b6757.css"><link rel="prefetch" href="/vuepress-proj/assets/css/3.styles.58f6ddc8.css"><link rel="prefetch" href="/vuepress-proj/assets/js/1.404b6757.js"><link rel="prefetch" href="/vuepress-proj/assets/js/10.a9a22a87.js"><link rel="prefetch" href="/vuepress-proj/assets/js/11.cd1f07b9.js"><link rel="prefetch" href="/vuepress-proj/assets/js/12.e4a6405a.js"><link rel="prefetch" href="/vuepress-proj/assets/js/13.cb95d33e.js"><link rel="prefetch" href="/vuepress-proj/assets/js/14.5cbb75e8.js"><link rel="prefetch" href="/vuepress-proj/assets/js/15.e980824b.js"><link rel="prefetch" href="/vuepress-proj/assets/js/16.6de65794.js"><link rel="prefetch" href="/vuepress-proj/assets/js/17.06429d38.js"><link rel="prefetch" href="/vuepress-proj/assets/js/18.64b3061d.js"><link rel="prefetch" href="/vuepress-proj/assets/js/19.9e327734.js"><link rel="prefetch" href="/vuepress-proj/assets/js/2.774508bf.js"><link rel="prefetch" href="/vuepress-proj/assets/js/20.611fb158.js"><link rel="prefetch" href="/vuepress-proj/assets/js/21.e2542973.js"><link rel="prefetch" href="/vuepress-proj/assets/js/3.58f6ddc8.js"><link rel="prefetch" href="/vuepress-proj/assets/js/4.d6170899.js"><link rel="prefetch" href="/vuepress-proj/assets/js/5.615aff2c.js"><link rel="prefetch" href="/vuepress-proj/assets/js/7.9b029dfd.js"><link rel="prefetch" href="/vuepress-proj/assets/js/8.6548341b.js"><link rel="prefetch" href="/vuepress-proj/assets/js/9.34331698.js">
    <link rel="stylesheet" href="/vuepress-proj/assets/css/1.styles.404b6757.css"><link rel="stylesheet" href="/vuepress-proj/assets/css/3.styles.58f6ddc8.css"><link rel="stylesheet" href="/vuepress-proj/assets/css/styles.efe46ffe.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-proj/" class="home-link router-link-active"><!----> <span class="site-name">Your title</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-proj/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vuepress-proj/config/" class="nav-link">Config Reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugin Dev Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/plugin-dev.html" class="nav-link router-link-exact-active router-link-active">Plugin Dev Guide</a></li><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/ui-info.html" class="nav-link">UI Plugin Info</a></li><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/ui-api.html" class="nav-link">UI Plugin API</a></li><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/ui-localization.html" class="nav-link">UI Localization</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ESLint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PWA
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-jest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-mocha" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mocha
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cypress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-nightwatch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nightwatch
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-proj/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vuepress-proj/config/" class="nav-link">Config Reference</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugin Dev Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/plugin-dev.html" class="nav-link router-link-exact-active router-link-active">Plugin Dev Guide</a></li><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/ui-info.html" class="nav-link">UI Plugin Info</a></li><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/ui-api.html" class="nav-link">UI Plugin API</a></li><li class="dropdown-item"><!----> <a href="/vuepress-proj/dev-guide/ui-localization.html" class="nav-link">UI Localization</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Plugins</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Babel
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  TypeScript
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ESLint
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  PWA
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-jest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Jest
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-mocha" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Mocha
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Cypress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-nightwatch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Nightwatch
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vuepress-proj/dev-guide/plugin-dev.html" class="active sidebar-link">Plugin Development Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#core-concepts" class="sidebar-link">Core Concepts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#creator" class="sidebar-link">Creator</a></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#service" class="sidebar-link">Service</a></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#cli-plugin" class="sidebar-link">CLI Plugin</a></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#service-plugin" class="sidebar-link">Service Plugin</a></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#generator" class="sidebar-link">Generator</a></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#prompts" class="sidebar-link">Prompts</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#distributing-the-plugin" class="sidebar-link">Distributing the Plugin</a></li><li class="sidebar-sub-header"><a href="/vuepress-proj/dev-guide/plugin-dev.html#note-on-development-of-core-plugins" class="sidebar-link">Note on Development of Core Plugins</a></li></ul></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>UI Development</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vuepress-proj/dev-guide/ui-info.html" class="sidebar-link">UI Plugin Info</a></li><li><a href="/vuepress-proj/dev-guide/ui-api.html" class="sidebar-link">UI API</a></li><li><a href="/vuepress-proj/dev-guide/ui-localization.html" class="sidebar-link">UI Localization</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="plugin-development-guide"><a href="#plugin-development-guide" aria-hidden="true" class="header-anchor">#</a> Plugin Development Guide</h1> <h2 id="core-concepts"><a href="#core-concepts" aria-hidden="true" class="header-anchor">#</a> Core Concepts</h2> <p>There are two major parts of the system:</p> <ul><li><code>@vue/cli</code>: globally installed, exposes the <code>vue create &lt;app&gt;</code> command;</li> <li><code>@vue/cli-service</code>: locally installed, exposes the <code>vue-cli-service</code> commands.</li></ul> <p>Both utilize a plugin-based architecture.</p> <h3 id="creator"><a href="#creator" aria-hidden="true" class="header-anchor">#</a> Creator</h3> <p><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli/lib/Creator.js" target="_blank" rel="noopener noreferrer">Creator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is the class created when invoking <code>vue create &lt;app&gt;</code>. Responsible for prompting for preferences, invoking generators and installing dependencies.</p> <h3 id="service"><a href="#service" aria-hidden="true" class="header-anchor">#</a> Service</h3> <p><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-service/lib/Service.js" target="_blank" rel="noopener noreferrer">Service<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is the class created when invoking <code>vue-cli-service &lt;command&gt; [...args]</code>. Responsible for managing the internal webpack configuration, and exposes commands for serving and building the project.</p> <h3 id="cli-plugin"><a href="#cli-plugin" aria-hidden="true" class="header-anchor">#</a> CLI Plugin</h3> <p>A CLI plugin is an npm package that can add additional features to a <code>@vue/cli</code> project. It should always contain a <a href="#service-plugin">Service Plugin</a> as its main export, and can optionally contain a <a href="#generator">Generator</a> and a <a href="#prompts-for-3rd-party-plugins">Prompt File</a>.</p> <p>A typical CLI plugin's folder structure looks like the following:</p> <div class="language- extra-class"><pre class="language-text"><code>.
├── README.md
├── generator.js  # generator (optional)
├── prompts.js    # prompts file (optional)
├── index.js      # service plugin
└── package.json
</code></pre></div><h3 id="service-plugin"><a href="#service-plugin" aria-hidden="true" class="header-anchor">#</a> Service Plugin</h3> <p>Service plugins are loaded automatically when a Service instance is created - i.e. every time the <code>vue-cli-service</code> command is invoked inside a project.</p> <p>Note the concept of a &quot;service plugin&quot; we are discussing here is narrower than that of a &quot;CLI plugin&quot;, which is published as an npm package. The former only refers to a module that will be loaded by <code>@vue/cli-service</code> when it's initialized, and is usually a part of the latter.</p> <p>In addition, <code>@vue/cli-service</code>'s <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-service/lib/commands" target="_blank" rel="noopener noreferrer">built-in commands<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-service/lib/config" target="_blank" rel="noopener noreferrer">config modules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> are also all implemented as service plugins.</p> <p>A service plugin should export a function which receives two arguments:</p> <ul><li><p>A <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-service/lib/PluginAPI.js" target="_blank" rel="noopener noreferrer">PluginAPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> instance</p></li> <li><p>An object containing project local options specified in <code>vue.config.js</code>, or in the <code>&quot;vue&quot;</code> field in <code>package.json</code>.</p></li></ul> <p>The API allows service plugins to extend/modify the internal webpack config for different environments and inject additional commands to <code>vue-cli-service</code>. Example:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>api<span class="token punctuation">,</span> projectOptions<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  api<span class="token punctuation">.</span><span class="token function">chainWebpack</span><span class="token punctuation">(</span>webpackConfig <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// modify webpack config with webpack-chain</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  api<span class="token punctuation">.</span><span class="token function">configureWebpack</span><span class="token punctuation">(</span>webpackConfig <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// modify webpack config</span>
    <span class="token comment">// or return object to be merged with webpack-merge</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> args <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// register `vue-cli-service test`</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="specifying-mode-for-commands"><a href="#specifying-mode-for-commands" aria-hidden="true" class="header-anchor">#</a> Specifying Mode for Commands</h4> <blockquote><p>Note: the way plugins set modes has been changed in beta.10.</p></blockquote> <p>If a plugin-registered command needs to run in a specific default mode,
the plugin needs to expose it via <code>module.exports.defaultModes</code> in the form
of <code>{ [commandName]: mode }</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> api <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'build'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>defaultModes <span class="token operator">=</span> <span class="token punctuation">{</span>
  build<span class="token punctuation">:</span> <span class="token string">'production'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This is because the command's expected mode needs to be known before loading environment variables, which in turn needs to happen before loading user options / applying the plugins.</p> <h4 id="resolving-webpack-config-in-plugins"><a href="#resolving-webpack-config-in-plugins" aria-hidden="true" class="header-anchor">#</a> Resolving Webpack Config in Plugins</h4> <p>A plugin can retrieve the resolved webpack config by calling <code>api.resolveWebpackConfig()</code>. Every call generates a fresh webpack config which can be further mutated as needed:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> api <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'my-build'</span><span class="token punctuation">,</span> args <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> configA <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">resolveWebpackConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> configB <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">resolveWebpackConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// mutate configA and configB for different purposes...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// make sure to specify the default mode for correct env variables</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>defaultModes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'my-build'</span><span class="token punctuation">:</span> <span class="token string">'production'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Alternatively, a plugin can also obtain a fresh <a href="https://github.com/mozilla-neutrino/webpack-chain" target="_blank" rel="noopener noreferrer">chainable config<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> by calling <code>api.resolveChainableWebpackConfig()</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">'my-build'</span><span class="token punctuation">,</span> args <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> configA <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">resolveChainableWebpackConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> configB <span class="token operator">=</span> api<span class="token punctuation">.</span><span class="token function">resolveChainableWebpackConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// chain-modify configA and configB for different purposes...</span>

  <span class="token keyword">const</span> finalConfigA <span class="token operator">=</span> configA<span class="token punctuation">.</span><span class="token function">toConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> finalConfigB <span class="token operator">=</span> configB<span class="token punctuation">.</span><span class="token function">toConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="custom-options-for-3rd-party-plugins"><a href="#custom-options-for-3rd-party-plugins" aria-hidden="true" class="header-anchor">#</a> Custom Options for 3rd Party Plugins</h4> <p>The exports from <code>vue.config.js</code> will be <a href="https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli-service/lib/options.js#L3" target="_blank" rel="noopener noreferrer">validated against a schema<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to avoid typos and wrong config values. However, a 3rd party plugin can still allow the user to configure its behavior via the <code>pluginOptions</code> field. For example, with the following <code>vue.config.js</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  pluginOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The 3rd party plugin can read <code>projectOptions.pluginOptions.foo</code> to determine conditional configurations.</p> <h3 id="generator"><a href="#generator" aria-hidden="true" class="header-anchor">#</a> Generator</h3> <p>A CLI plugin published as a package can contain a <code>generator.js</code> or <code>generator/index.js</code> file. The generator inside a plugin will be invoked in two possible scenarios:</p> <ul><li><p>During a project's initial creation, if the CLI plugin is installed as part of the project creation preset.</p></li> <li><p>When the plugin is installed after project's creation and invoked individually via <code>vue invoke</code>.</p></li></ul> <p>The <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli/lib/GeneratorAPI.js" target="_blank" rel="noopener noreferrer">GeneratorAPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> allows a generator to inject additional dependencies or fields into <code>package.json</code> and add files to the project.</p> <p>A generator should export a function which receives three arguments:</p> <ol><li><p>A <code>GeneratorAPI</code> instance;</p></li> <li><p>The generator options for this plugin. These options are resolved during the prompt phase of project creation, or loaded from a saved preset in <code>~/.vuerc</code>. For example, if the saved <code>~/.vuerc</code> looks like this:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;@vue/cli-plugin-foo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;option&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And if the user creates a project using the <code>foo</code> preset, then the generator of <code>@vue/cli-plugin-foo</code> will receive <code>{ option: 'bar' }</code> as its second argument.</p> <p>For a 3rd party plugin, the options will be resolved from the prompts or command line arguments when the user executes <code>vue invoke</code> (see <a href="#prompts-for-3rd-party-plugins">Prompts for 3rd Party Plugins</a>).</p></li> <li><p>The entire preset (<code>presets.foo</code>) will be passed as the third argument.</p></li></ol> <p><strong>Example:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span>api<span class="token punctuation">,</span> options<span class="token punctuation">,</span> rootOptions<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// modify package.json fields</span>
  api<span class="token punctuation">.</span><span class="token function">extendPackage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    scripts<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token string">'vue-cli-service test'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// copy and render all files in ./template with ejs</span>
  api<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'./template'</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// conditionally generate files</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="generator-templating"><a href="#generator-templating" aria-hidden="true" class="header-anchor">#</a> Generator Templating</h4> <p>When you call <code>api.render('./template')</code>, the generator will render files in <code>./template</code> (resolved relative to the generator file) with <a href="https://github.com/mde/ejs" target="_blank" rel="noopener noreferrer">EJS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>In addition, you can inherit and replace parts of an existing template file (even from another package) using YAML front-matter:</p> <div class="language-ejs extra-class"><pre class="language-text"><code>---
extend: '@vue/cli-service/generator/template/src/App.vue'
replace: !!js/regexp /&lt;script&gt;[^]*?&lt;\/script&gt;/
---

&lt;script&gt;
export default {
  // Replace default script
}
&lt;/script&gt;
</code></pre></div><p>It's also possible to do multiple replaces, although you will need to wrap your replace strings within <code>&lt;%# REPLACE %&gt;</code> and <code>&lt;%# END_REPLACE %&gt;</code> blocks:</p> <div class="language-ejs extra-class"><pre class="language-text"><code>---
extend: '@vue/cli-service/generator/template/src/App.vue'
replace:
  - !!js/regexp /Welcome to Your Vue\.js App/
  - !!js/regexp /&lt;script&gt;[^]*?&lt;\/script&gt;/
---

&lt;%# REPLACE %&gt;
Replace Welcome Message
&lt;%# END_REPLACE %&gt;

&lt;%# REPLACE %&gt;
&lt;script&gt;
export default {
  // Replace default script
}
&lt;/script&gt;
&lt;%# END_REPLACE %&gt;
</code></pre></div><h4 id="filename-edge-cases"><a href="#filename-edge-cases" aria-hidden="true" class="header-anchor">#</a> Filename edge cases</h4> <p>If you want to render a template file that either begins with a dot (i.e. <code>.env</code>) you will have to follow a specific naming convention, since dotfiles are ignored when publishing your plugin to npm:</p> <div class="language- extra-class"><pre class="language-text"><code># dotfile templates have to use an underscore instead of the dot:

/generator/template/_env

# When calling api.render('./template'), this will be rendered in the project folder as:

.env
</code></pre></div><p>Consequently, this means that you also have to follow a special naming convention if you want to render file whose name actually begins with an underscore:</p> <div class="language- extra-class"><pre class="language-text"><code># such templates have to use two underscores instead of the dot:

/generator/template/__variables.scss

# When calling api.render('./template'), this will be rendered in the project folder as:

_variables.scss
</code></pre></div><h3 id="prompts"><a href="#prompts" aria-hidden="true" class="header-anchor">#</a> Prompts</h3> <h4 id="prompts-for-built-in-plugins"><a href="#prompts-for-built-in-plugins" aria-hidden="true" class="header-anchor">#</a> Prompts for Built-in Plugins</h4> <p>Only built-in plugins have the ability to customize the initial prompts when creating a new project, and the prompt modules are located <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli/lib/promptModules" target="_blank" rel="noopener noreferrer">inside the <code>@vue/cli</code> package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>A prompt module should export a function that receives a <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli/lib/PromptModuleAPI.js" target="_blank" rel="noopener noreferrer">PromptModuleAPI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> instance. The prompts are presented using <a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener noreferrer">inquirer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> under the hood:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> api <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// a feature object should be a valid inquirer choice object</span>
  api<span class="token punctuation">.</span><span class="token function">injectFeature</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Some great feature'</span><span class="token punctuation">,</span>
    value<span class="token punctuation">:</span> <span class="token string">'my-feature'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// injectPrompt expects a valid inquirer prompt object</span>
  api<span class="token punctuation">.</span><span class="token function">injectPrompt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'someFlag'</span><span class="token punctuation">,</span>
    <span class="token comment">// make sure your prompt only shows up if user has picked your feature</span>
    when<span class="token punctuation">:</span> answers <span class="token operator">=&gt;</span> answers<span class="token punctuation">.</span>features<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span><span class="token string">'my-feature'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    message<span class="token punctuation">:</span> <span class="token string">'Do you want to turn on flag foo?'</span><span class="token punctuation">,</span>
    type<span class="token punctuation">:</span> <span class="token string">'confirm'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// when all prompts are done, inject your plugin into the options that</span>
  <span class="token comment">// will be passed on to Generators</span>
  api<span class="token punctuation">.</span><span class="token function">onPromptComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span>answers<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>answers<span class="token punctuation">.</span>features<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'my-feature'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      options<span class="token punctuation">.</span>plugins<span class="token punctuation">[</span><span class="token string">'vue-cli-plugin-my-feature'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        someFlag<span class="token punctuation">:</span> answers<span class="token punctuation">.</span>someFlag
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="prompts-for-3rd-party-plugins"><a href="#prompts-for-3rd-party-plugins" aria-hidden="true" class="header-anchor">#</a> Prompts for 3rd Party Plugins</h4> <p>3rd party plugins are typically installed manually after a project is already created, and the user will initialize the plugin by calling <code>vue invoke</code>. If the plugin contains a <code>prompts.js</code> in its root directory, it will be used during invocation. The file should export an array of <a href="https://github.com/SBoudrias/Inquirer.js#question" target="_blank" rel="noopener noreferrer">Questions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that will be handled by Inquirer.js. The resolved answers object will be passed to the plugin's generator as options.</p> <p>Alternatively, the user can skip the prompts and directly initialize the plugin by passing options via the command line, e.g.:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vue invoke my-plugin --mode awesome
</code></pre></div><h2 id="distributing-the-plugin"><a href="#distributing-the-plugin" aria-hidden="true" class="header-anchor">#</a> Distributing the Plugin</h2> <p>For a CLI plugin to be usable by other developers, it must be published on npm following the name convention <code>vue-cli-plugin-&lt;name&gt;</code>. Following the name convention allows your plugin to be:</p> <ul><li>Discoverable by <code>@vue/cli-service</code>;</li> <li>Discoverable by other developers via searching;</li> <li>Installable via <code>vue add &lt;name&gt;</code> or <code>vue invoke &lt;name&gt;</code>.</li></ul> <h2 id="note-on-development-of-core-plugins"><a href="#note-on-development-of-core-plugins" aria-hidden="true" class="header-anchor">#</a> Note on Development of Core Plugins</h2> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>This section only applies if you are working on a built-in plugin inside the <code>vuejs/vue-cli</code> repository itself.</p></div> <p>A plugin with a generator that injects additional dependencies other than packages in this repo (e.g. <code>chai</code> is injected by <code>@vue/cli-plugin-unit-mocha/generator/index.js</code>) should have those dependencies listed in its own <code>devDependencies</code> field. This ensures that:</p> <ol><li><p>the package always exist in this repo's root <code>node_modules</code> so that we don't have to reinstall them on every test.</p></li> <li><p><code>yarn.lock</code> stays consistent so that CI can better use it for inferring caching behavior.</p></li></ol></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/vuepress-proj/dev-guide/ui-info.html">
          UI Plugin Info
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/vuepress-proj/assets/js/6.b98e0cc0.js" defer></script><script src="/vuepress-proj/assets/js/app.efe46ffe.js" defer></script>
  </body>
</html>
